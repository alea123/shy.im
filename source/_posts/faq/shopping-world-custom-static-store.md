---
title: Einkaufswelten Element eigener Statischer Store
date: 2017-12-05T19:28:14+01:00
---

Einkaufswelten Elemente haben leider keine Option um Store Werte zu übergeben wie in der Plugin Config und müssen dadurch via ExtJs direkt definiert werden.

Hier dazu ein Beispiel:

**Test.php**

```php
<?php

namespace Test;
use Shopware\Components\Plugin;
use Shopware\Components\Plugin\Context\InstallContext;

class Test extends Plugin
{
    public static function getSubscribedEvents()
    {
        return [
            'Enlight_Controller_Action_PostDispatch_Backend_Emotion' => 'onPostDispatchEmotion'
        ];
    }
    
    public function onPostDispatchEmotion(\Enlight_Event_EventArgs $args)
    {
        /** @var \Shopware_Controllers_Backend_Emotion $subject */
        $subject = $args->getSubject();
        if ($subject->Request()->getActionName() == 'index') {
            $subject->View()->addTemplateDir($this->getPath() . '/Resources/views');
            $subject->View()->extendsTemplate('emotionstore.js');
        }
    }
    
    public function install(InstallContext $context)
    {
        parent::install($context); // TODO: Change the autogenerated stub
        $emotion = $this->container->get('shopware.emotion_component_installer');
        $vimeoElement = $emotion->createOrUpdate(
            $this->getName(),
            'Vimeo Video',
            [
                'name' => 'Vimeo Video',
                'template' => 'emotion_vimeo',
                'cls' => 'emotion-vimeo-element',
                'description' => 'A simple vimeo video element for the shopping worlds.'
            ]
        );
        $vimeoElement->createComboBoxField([
            'fieldLabel' => 'Test',
            'name' => 'bla',
            'supportText' => 'yay',
            'allowBlank' => false,
            'store' => 'Shopware.apps.Emotion.store.MyTestStore',
            'queryMode' => 'local',
            'displayField' => 'name',
            'valueField' => 'id'
        ]);
    }
}
```

**Resources/views/emotionstore.js**
```javascript
//{block name="backend/Emotion/app" append}
Ext.define('Shopware.apps.Emotion.store.MyTestStore', {
    extend: 'Ext.data.Store',
    fields: [
        {
            name: 'id',
            type: 'integer'
        },
        {
            name: 'name',
            type: 'string'
        }
    ],
    data: [
        {
            id: 1,
            name: "LOL"
        },
        {
            id: 2,
            name: "Test"
        }
    ]
})
//{/block}
```